{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _resizeObserverPolyfill = require('resize-observer-polyfill');\n\nvar _resizeObserverPolyfill2 = _interopRequireDefault(_resizeObserverPolyfill);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/* eslint no-debugger: \"warn\" */\n\n/**\n * Predefined constants\n * @type {Object}\n */\n\n\nvar constants = {\n  orientation: {\n    horizontal: {\n      dimension: 'width',\n      direction: 'left',\n      reverseDirection: 'right',\n      coordinate: 'x'\n    },\n    vertical: {\n      dimension: 'height',\n      direction: 'top',\n      reverseDirection: 'bottom',\n      coordinate: 'y'\n    }\n  }\n};\n\nvar Slider = function (_Component) {\n  _inherits(Slider, _Component);\n\n  function Slider(props, context) {\n    _classCallCheck(this, Slider);\n\n    var _this = _possibleConstructorReturn(this, (Slider.__proto__ || Object.getPrototypeOf(Slider)).call(this, props, context));\n\n    _this.handleFormat = function (value) {\n      var format = _this.props.format;\n      return format ? format(value) : value;\n    };\n\n    _this.handleUpdate = function () {\n      if (!_this.slider) {\n        // for shallow rendering\n        return;\n      }\n\n      var orientation = _this.props.orientation;\n      var dimension = (0, _utils.capitalize)(constants.orientation[orientation].dimension);\n      var sliderPos = _this.slider['offset' + dimension];\n      var handlePos = _this.handle['offset' + dimension];\n\n      _this.setState({\n        limit: sliderPos - handlePos,\n        grab: handlePos / 2\n      });\n    };\n\n    _this.handleStart = function (e) {\n      var onChangeStart = _this.props.onChangeStart;\n      document.addEventListener('mousemove', _this.handleDrag);\n      document.addEventListener('mouseup', _this.handleEnd);\n\n      _this.setState({\n        active: true\n      }, function () {\n        onChangeStart && onChangeStart(e);\n      });\n    };\n\n    _this.handleDrag = function (e) {\n      e.stopPropagation();\n      var onChange = _this.props.onChange;\n      var _e$target = e.target,\n          className = _e$target.className,\n          classList = _e$target.classList,\n          dataset = _e$target.dataset;\n      if (!onChange || className === 'rangeslider__labels') return;\n\n      var value = _this.position(e);\n\n      if (classList && classList.contains('rangeslider__label-item') && dataset.value) {\n        value = parseFloat(dataset.value);\n      }\n\n      onChange && onChange(value, e);\n    };\n\n    _this.handleEnd = function (e) {\n      var onChangeComplete = _this.props.onChangeComplete;\n\n      _this.setState({\n        active: false\n      }, function () {\n        onChangeComplete && onChangeComplete(e);\n      });\n\n      document.removeEventListener('mousemove', _this.handleDrag);\n      document.removeEventListener('mouseup', _this.handleEnd);\n    };\n\n    _this.handleKeyDown = function (e) {\n      e.preventDefault();\n      var keyCode = e.keyCode;\n      var _this$props = _this.props,\n          value = _this$props.value,\n          min = _this$props.min,\n          max = _this$props.max,\n          step = _this$props.step,\n          onChange = _this$props.onChange;\n      var sliderValue = void 0;\n\n      switch (keyCode) {\n        case 38:\n        case 39:\n          sliderValue = value + step > max ? max : value + step;\n          onChange && onChange(sliderValue, e);\n          break;\n\n        case 37:\n        case 40:\n          sliderValue = value - step < min ? min : value - step;\n          onChange && onChange(sliderValue, e);\n          break;\n      }\n    };\n\n    _this.getPositionFromValue = function (value) {\n      var limit = _this.state.limit;\n      var _this$props2 = _this.props,\n          min = _this$props2.min,\n          max = _this$props2.max;\n      var diffMaxMin = max - min;\n      var diffValMin = value - min;\n      var percentage = diffValMin / diffMaxMin;\n      var pos = Math.round(percentage * limit);\n      return pos;\n    };\n\n    _this.getValueFromPosition = function (pos) {\n      var limit = _this.state.limit;\n      var _this$props3 = _this.props,\n          orientation = _this$props3.orientation,\n          min = _this$props3.min,\n          max = _this$props3.max,\n          step = _this$props3.step;\n      var percentage = (0, _utils.clamp)(pos, 0, limit) / (limit || 1);\n      var baseVal = step * Math.round(percentage * (max - min) / step);\n      var value = orientation === 'horizontal' ? baseVal + min : max - baseVal;\n      return (0, _utils.clamp)(value, min, max);\n    };\n\n    _this.position = function (e) {\n      var grab = _this.state.grab;\n      var _this$props4 = _this.props,\n          orientation = _this$props4.orientation,\n          reverse = _this$props4.reverse;\n      var node = _this.slider;\n      var coordinateStyle = constants.orientation[orientation].coordinate;\n      var directionStyle = reverse ? constants.orientation[orientation].reverseDirection : constants.orientation[orientation].direction;\n      var clientCoordinateStyle = 'client' + (0, _utils.capitalize)(coordinateStyle);\n      var coordinate = !e.touches ? e[clientCoordinateStyle] : e.touches[0][clientCoordinateStyle];\n      var direction = node.getBoundingClientRect()[directionStyle];\n      var pos = reverse ? direction - coordinate - grab : coordinate - direction - grab;\n\n      var value = _this.getValueFromPosition(pos);\n\n      return value;\n    };\n\n    _this.coordinates = function (pos) {\n      var _this$state = _this.state,\n          limit = _this$state.limit,\n          grab = _this$state.grab;\n      var orientation = _this.props.orientation;\n\n      var value = _this.getValueFromPosition(pos);\n\n      var position = _this.getPositionFromValue(value);\n\n      var handlePos = orientation === 'horizontal' ? position + grab : position;\n      var fillPos = orientation === 'horizontal' ? handlePos : limit - handlePos;\n      return {\n        fill: fillPos,\n        handle: handlePos,\n        label: handlePos\n      };\n    };\n\n    _this.renderLabels = function (labels) {\n      return _react2.default.createElement('ul', {\n        ref: function ref(sl) {\n          _this.labels = sl;\n        },\n        className: (0, _classnames2.default)('rangeslider__labels')\n      }, labels);\n    };\n\n    _this.state = {\n      active: false,\n      limit: 0,\n      grab: 0\n    };\n    return _this;\n  }\n\n  _createClass(Slider, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.handleUpdate();\n      var resizeObserver = new _resizeObserverPolyfill2.default(this.handleUpdate);\n      resizeObserver.observe(this.slider);\n    }\n    /**\n     * Format label/tooltip value\n     * @param  {Number} - value\n     * @return {Formatted Number}\n     */\n\n    /**\n     * Update slider state on change\n     * @return {void}\n     */\n\n    /**\n     * Attach event listeners to mousemove/mouseup events\n     * @return {void}\n     */\n\n    /**\n     * Handle drag/mousemove event\n     * @param  {Object} e - Event object\n     * @return {void}\n     */\n\n    /**\n     * Detach event listeners to mousemove/mouseup events\n     * @return {void}\n     */\n\n    /**\n     * Support for key events on the slider handle\n     * @param  {Object} e - Event object\n     * @return {void}\n     */\n\n    /**\n     * Calculate position of slider based on its value\n     * @param  {number} value - Current value of slider\n     * @return {position} pos - Calculated position of slider based on value\n     */\n\n    /**\n     * Translate position of slider to slider value\n     * @param  {number} pos - Current position/coordinates of slider\n     * @return {number} value - Slider value\n     */\n\n    /**\n     * Calculate position of slider based on value\n     * @param  {Object} e - Event object\n     * @return {number} value - Slider value\n     */\n\n    /**\n     * Grab coordinates of slider\n     * @param  {Object} pos - Position object\n     * @return {Object} - Slider fill/handle coordinates\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          value = _props.value,\n          orientation = _props.orientation,\n          className = _props.className,\n          tooltip = _props.tooltip,\n          reverse = _props.reverse,\n          labels = _props.labels,\n          min = _props.min,\n          max = _props.max,\n          handleLabel = _props.handleLabel;\n      var active = this.state.active;\n      var dimension = constants.orientation[orientation].dimension;\n      var direction = reverse ? constants.orientation[orientation].reverseDirection : constants.orientation[orientation].direction;\n      var position = this.getPositionFromValue(value);\n      var coords = this.coordinates(position);\n\n      var fillStyle = _defineProperty({}, dimension, coords.fill + 'px');\n\n      var handleStyle = _defineProperty({}, direction, coords.handle + 'px');\n\n      var showTooltip = tooltip && active;\n      var labelItems = [];\n      var labelKeys = Object.keys(labels);\n\n      if (labelKeys.length > 0) {\n        labelKeys = labelKeys.sort(function (a, b) {\n          return reverse ? a - b : b - a;\n        });\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = labelKeys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var key = _step.value;\n            var labelPosition = this.getPositionFromValue(key);\n            var labelCoords = this.coordinates(labelPosition);\n\n            var labelStyle = _defineProperty({}, direction, labelCoords.label + 'px');\n\n            labelItems.push(_react2.default.createElement('li', {\n              key: key,\n              className: (0, _classnames2.default)('rangeslider__label-item'),\n              'data-value': key,\n              onMouseDown: this.handleDrag,\n              onTouchStart: this.handleStart,\n              onTouchEnd: this.handleEnd,\n              style: labelStyle\n            }, this.props.labels[key]));\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      }\n\n      return _react2.default.createElement('div', {\n        ref: function ref(s) {\n          _this2.slider = s;\n        },\n        className: (0, _classnames2.default)('rangeslider', 'rangeslider-' + orientation, {\n          'rangeslider-reverse': reverse\n        }, className),\n        onMouseDown: this.handleDrag,\n        onMouseUp: this.handleEnd,\n        onTouchStart: this.handleStart,\n        onTouchEnd: this.handleEnd,\n        'aria-valuemin': min,\n        'aria-valuemax': max,\n        'aria-valuenow': value,\n        'aria-orientation': orientation\n      }, _react2.default.createElement('div', {\n        className: 'rangeslider__fill',\n        style: fillStyle\n      }), _react2.default.createElement('div', {\n        ref: function ref(sh) {\n          _this2.handle = sh;\n        },\n        className: 'rangeslider__handle',\n        onMouseDown: this.handleStart,\n        onTouchMove: this.handleDrag,\n        onTouchEnd: this.handleEnd,\n        onKeyDown: this.handleKeyDown,\n        style: handleStyle,\n        tabIndex: 0\n      }, showTooltip ? _react2.default.createElement('div', {\n        ref: function ref(st) {\n          _this2.tooltip = st;\n        },\n        className: 'rangeslider__handle-tooltip'\n      }, _react2.default.createElement('span', null, this.handleFormat(value))) : null, _react2.default.createElement('div', {\n        className: 'rangeslider__handle-label'\n      }, handleLabel)), labels ? this.renderLabels(labelItems) : null);\n    }\n  }]);\n\n  return Slider;\n}(_react.Component);\n\nSlider.propTypes = {\n  min: _propTypes2.default.number,\n  max: _propTypes2.default.number,\n  step: _propTypes2.default.number,\n  value: _propTypes2.default.number,\n  orientation: _propTypes2.default.string,\n  tooltip: _propTypes2.default.bool,\n  reverse: _propTypes2.default.bool,\n  labels: _propTypes2.default.object,\n  handleLabel: _propTypes2.default.string,\n  format: _propTypes2.default.func,\n  onChangeStart: _propTypes2.default.func,\n  onChange: _propTypes2.default.func,\n  onChangeComplete: _propTypes2.default.func\n};\nSlider.defaultProps = {\n  min: 0,\n  max: 100,\n  step: 1,\n  value: 0,\n  orientation: 'horizontal',\n  tooltip: true,\n  reverse: false,\n  labels: {},\n  handleLabel: ''\n};\nexports.default = Slider;","map":{"version":3,"sources":["C:/Users/LAB/Downloads/Desktop/TourX/node_modules/react-rangeslider/lib/Rangeslider.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_classnames","require","_classnames2","_interopRequireDefault","_react","_react2","_propTypes","_propTypes2","_resizeObserverPolyfill","_resizeObserverPolyfill2","_utils","obj","__esModule","default","_defineProperty","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","constants","orientation","horizontal","dimension","direction","reverseDirection","coordinate","vertical","Slider","_Component","context","_this","getPrototypeOf","handleFormat","format","handleUpdate","slider","capitalize","sliderPos","handlePos","handle","setState","limit","grab","handleStart","e","onChangeStart","document","addEventListener","handleDrag","handleEnd","active","stopPropagation","onChange","_e$target","className","classList","dataset","position","contains","parseFloat","onChangeComplete","removeEventListener","handleKeyDown","preventDefault","keyCode","_this$props","min","max","step","sliderValue","getPositionFromValue","state","_this$props2","diffMaxMin","diffValMin","percentage","pos","Math","round","getValueFromPosition","_this$props3","clamp","baseVal","_this$props4","reverse","node","coordinateStyle","directionStyle","clientCoordinateStyle","touches","getBoundingClientRect","coordinates","_this$state","fillPos","fill","label","renderLabels","labels","createElement","ref","sl","componentDidMount","resizeObserver","observe","render","_this2","_props","tooltip","handleLabel","coords","fillStyle","handleStyle","showTooltip","labelItems","labelKeys","keys","sort","a","b","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_iterator","Symbol","iterator","_step","next","done","labelPosition","labelCoords","labelStyle","push","onMouseDown","onTouchStart","onTouchEnd","style","err","return","s","onMouseUp","sh","onTouchMove","onKeyDown","tabIndex","st","Component","propTypes","number","string","bool","object","func","defaultProps"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _resizeObserverPolyfill = require('resize-observer-polyfill');\n\nvar _resizeObserverPolyfill2 = _interopRequireDefault(_resizeObserverPolyfill);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* eslint no-debugger: \"warn\" */\n\n\n/**\n * Predefined constants\n * @type {Object}\n */\nvar constants = {\n  orientation: {\n    horizontal: {\n      dimension: 'width',\n      direction: 'left',\n      reverseDirection: 'right',\n      coordinate: 'x'\n    },\n    vertical: {\n      dimension: 'height',\n      direction: 'top',\n      reverseDirection: 'bottom',\n      coordinate: 'y'\n    }\n  }\n};\n\nvar Slider = function (_Component) {\n  _inherits(Slider, _Component);\n\n  function Slider(props, context) {\n    _classCallCheck(this, Slider);\n\n    var _this = _possibleConstructorReturn(this, (Slider.__proto__ || Object.getPrototypeOf(Slider)).call(this, props, context));\n\n    _this.handleFormat = function (value) {\n      var format = _this.props.format;\n\n      return format ? format(value) : value;\n    };\n\n    _this.handleUpdate = function () {\n      if (!_this.slider) {\n        // for shallow rendering\n        return;\n      }\n      var orientation = _this.props.orientation;\n\n      var dimension = (0, _utils.capitalize)(constants.orientation[orientation].dimension);\n      var sliderPos = _this.slider['offset' + dimension];\n      var handlePos = _this.handle['offset' + dimension];\n\n      _this.setState({\n        limit: sliderPos - handlePos,\n        grab: handlePos / 2\n      });\n    };\n\n    _this.handleStart = function (e) {\n      var onChangeStart = _this.props.onChangeStart;\n\n      document.addEventListener('mousemove', _this.handleDrag);\n      document.addEventListener('mouseup', _this.handleEnd);\n      _this.setState({\n        active: true\n      }, function () {\n        onChangeStart && onChangeStart(e);\n      });\n    };\n\n    _this.handleDrag = function (e) {\n      e.stopPropagation();\n      var onChange = _this.props.onChange;\n      var _e$target = e.target,\n          className = _e$target.className,\n          classList = _e$target.classList,\n          dataset = _e$target.dataset;\n\n      if (!onChange || className === 'rangeslider__labels') return;\n\n      var value = _this.position(e);\n\n      if (classList && classList.contains('rangeslider__label-item') && dataset.value) {\n        value = parseFloat(dataset.value);\n      }\n\n      onChange && onChange(value, e);\n    };\n\n    _this.handleEnd = function (e) {\n      var onChangeComplete = _this.props.onChangeComplete;\n\n      _this.setState({\n        active: false\n      }, function () {\n        onChangeComplete && onChangeComplete(e);\n      });\n      document.removeEventListener('mousemove', _this.handleDrag);\n      document.removeEventListener('mouseup', _this.handleEnd);\n    };\n\n    _this.handleKeyDown = function (e) {\n      e.preventDefault();\n      var keyCode = e.keyCode;\n      var _this$props = _this.props,\n          value = _this$props.value,\n          min = _this$props.min,\n          max = _this$props.max,\n          step = _this$props.step,\n          onChange = _this$props.onChange;\n\n      var sliderValue = void 0;\n\n      switch (keyCode) {\n        case 38:\n        case 39:\n          sliderValue = value + step > max ? max : value + step;\n          onChange && onChange(sliderValue, e);\n          break;\n        case 37:\n        case 40:\n          sliderValue = value - step < min ? min : value - step;\n          onChange && onChange(sliderValue, e);\n          break;\n      }\n    };\n\n    _this.getPositionFromValue = function (value) {\n      var limit = _this.state.limit;\n      var _this$props2 = _this.props,\n          min = _this$props2.min,\n          max = _this$props2.max;\n\n      var diffMaxMin = max - min;\n      var diffValMin = value - min;\n      var percentage = diffValMin / diffMaxMin;\n      var pos = Math.round(percentage * limit);\n\n      return pos;\n    };\n\n    _this.getValueFromPosition = function (pos) {\n      var limit = _this.state.limit;\n      var _this$props3 = _this.props,\n          orientation = _this$props3.orientation,\n          min = _this$props3.min,\n          max = _this$props3.max,\n          step = _this$props3.step;\n\n      var percentage = (0, _utils.clamp)(pos, 0, limit) / (limit || 1);\n      var baseVal = step * Math.round(percentage * (max - min) / step);\n      var value = orientation === 'horizontal' ? baseVal + min : max - baseVal;\n\n      return (0, _utils.clamp)(value, min, max);\n    };\n\n    _this.position = function (e) {\n      var grab = _this.state.grab;\n      var _this$props4 = _this.props,\n          orientation = _this$props4.orientation,\n          reverse = _this$props4.reverse;\n\n\n      var node = _this.slider;\n      var coordinateStyle = constants.orientation[orientation].coordinate;\n      var directionStyle = reverse ? constants.orientation[orientation].reverseDirection : constants.orientation[orientation].direction;\n      var clientCoordinateStyle = 'client' + (0, _utils.capitalize)(coordinateStyle);\n      var coordinate = !e.touches ? e[clientCoordinateStyle] : e.touches[0][clientCoordinateStyle];\n      var direction = node.getBoundingClientRect()[directionStyle];\n      var pos = reverse ? direction - coordinate - grab : coordinate - direction - grab;\n      var value = _this.getValueFromPosition(pos);\n\n      return value;\n    };\n\n    _this.coordinates = function (pos) {\n      var _this$state = _this.state,\n          limit = _this$state.limit,\n          grab = _this$state.grab;\n      var orientation = _this.props.orientation;\n\n      var value = _this.getValueFromPosition(pos);\n      var position = _this.getPositionFromValue(value);\n      var handlePos = orientation === 'horizontal' ? position + grab : position;\n      var fillPos = orientation === 'horizontal' ? handlePos : limit - handlePos;\n\n      return {\n        fill: fillPos,\n        handle: handlePos,\n        label: handlePos\n      };\n    };\n\n    _this.renderLabels = function (labels) {\n      return _react2.default.createElement(\n        'ul',\n        {\n          ref: function ref(sl) {\n            _this.labels = sl;\n          },\n          className: (0, _classnames2.default)('rangeslider__labels')\n        },\n        labels\n      );\n    };\n\n    _this.state = {\n      active: false,\n      limit: 0,\n      grab: 0\n    };\n    return _this;\n  }\n\n  _createClass(Slider, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.handleUpdate();\n      var resizeObserver = new _resizeObserverPolyfill2.default(this.handleUpdate);\n      resizeObserver.observe(this.slider);\n    }\n\n    /**\n     * Format label/tooltip value\n     * @param  {Number} - value\n     * @return {Formatted Number}\n     */\n\n\n    /**\n     * Update slider state on change\n     * @return {void}\n     */\n\n\n    /**\n     * Attach event listeners to mousemove/mouseup events\n     * @return {void}\n     */\n\n\n    /**\n     * Handle drag/mousemove event\n     * @param  {Object} e - Event object\n     * @return {void}\n     */\n\n\n    /**\n     * Detach event listeners to mousemove/mouseup events\n     * @return {void}\n     */\n\n\n    /**\n     * Support for key events on the slider handle\n     * @param  {Object} e - Event object\n     * @return {void}\n     */\n\n\n    /**\n     * Calculate position of slider based on its value\n     * @param  {number} value - Current value of slider\n     * @return {position} pos - Calculated position of slider based on value\n     */\n\n\n    /**\n     * Translate position of slider to slider value\n     * @param  {number} pos - Current position/coordinates of slider\n     * @return {number} value - Slider value\n     */\n\n\n    /**\n     * Calculate position of slider based on value\n     * @param  {Object} e - Event object\n     * @return {number} value - Slider value\n     */\n\n\n    /**\n     * Grab coordinates of slider\n     * @param  {Object} pos - Position object\n     * @return {Object} - Slider fill/handle coordinates\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          value = _props.value,\n          orientation = _props.orientation,\n          className = _props.className,\n          tooltip = _props.tooltip,\n          reverse = _props.reverse,\n          labels = _props.labels,\n          min = _props.min,\n          max = _props.max,\n          handleLabel = _props.handleLabel;\n      var active = this.state.active;\n\n      var dimension = constants.orientation[orientation].dimension;\n      var direction = reverse ? constants.orientation[orientation].reverseDirection : constants.orientation[orientation].direction;\n      var position = this.getPositionFromValue(value);\n      var coords = this.coordinates(position);\n      var fillStyle = _defineProperty({}, dimension, coords.fill + 'px');\n      var handleStyle = _defineProperty({}, direction, coords.handle + 'px');\n      var showTooltip = tooltip && active;\n\n      var labelItems = [];\n      var labelKeys = Object.keys(labels);\n\n      if (labelKeys.length > 0) {\n        labelKeys = labelKeys.sort(function (a, b) {\n          return reverse ? a - b : b - a;\n        });\n\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = labelKeys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var key = _step.value;\n\n            var labelPosition = this.getPositionFromValue(key);\n            var labelCoords = this.coordinates(labelPosition);\n            var labelStyle = _defineProperty({}, direction, labelCoords.label + 'px');\n\n            labelItems.push(_react2.default.createElement(\n              'li',\n              {\n                key: key,\n                className: (0, _classnames2.default)('rangeslider__label-item'),\n                'data-value': key,\n                onMouseDown: this.handleDrag,\n                onTouchStart: this.handleStart,\n                onTouchEnd: this.handleEnd,\n                style: labelStyle\n              },\n              this.props.labels[key]\n            ));\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      }\n\n      return _react2.default.createElement(\n        'div',\n        {\n          ref: function ref(s) {\n            _this2.slider = s;\n          },\n          className: (0, _classnames2.default)('rangeslider', 'rangeslider-' + orientation, { 'rangeslider-reverse': reverse }, className),\n          onMouseDown: this.handleDrag,\n          onMouseUp: this.handleEnd,\n          onTouchStart: this.handleStart,\n          onTouchEnd: this.handleEnd,\n          'aria-valuemin': min,\n          'aria-valuemax': max,\n          'aria-valuenow': value,\n          'aria-orientation': orientation\n        },\n        _react2.default.createElement('div', { className: 'rangeslider__fill', style: fillStyle }),\n        _react2.default.createElement(\n          'div',\n          {\n            ref: function ref(sh) {\n              _this2.handle = sh;\n            },\n            className: 'rangeslider__handle',\n            onMouseDown: this.handleStart,\n            onTouchMove: this.handleDrag,\n            onTouchEnd: this.handleEnd,\n            onKeyDown: this.handleKeyDown,\n            style: handleStyle,\n            tabIndex: 0\n          },\n          showTooltip ? _react2.default.createElement(\n            'div',\n            {\n              ref: function ref(st) {\n                _this2.tooltip = st;\n              },\n              className: 'rangeslider__handle-tooltip'\n            },\n            _react2.default.createElement(\n              'span',\n              null,\n              this.handleFormat(value)\n            )\n          ) : null,\n          _react2.default.createElement(\n            'div',\n            { className: 'rangeslider__handle-label' },\n            handleLabel\n          )\n        ),\n        labels ? this.renderLabels(labelItems) : null\n      );\n    }\n  }]);\n\n  return Slider;\n}(_react.Component);\n\nSlider.propTypes = {\n  min: _propTypes2.default.number,\n  max: _propTypes2.default.number,\n  step: _propTypes2.default.number,\n  value: _propTypes2.default.number,\n  orientation: _propTypes2.default.string,\n  tooltip: _propTypes2.default.bool,\n  reverse: _propTypes2.default.bool,\n  labels: _propTypes2.default.object,\n  handleLabel: _propTypes2.default.string,\n  format: _propTypes2.default.func,\n  onChangeStart: _propTypes2.default.func,\n  onChange: _propTypes2.default.func,\n  onChangeComplete: _propTypes2.default.func\n};\nSlider.defaultProps = {\n  min: 0,\n  max: 100,\n  step: 1,\n  value: 0,\n  orientation: 'horizontal',\n  tooltip: true,\n  reverse: false,\n  labels: {},\n  handleLabel: ''\n};\nexports.default = Slider;"]},"metadata":{},"sourceType":"script"}